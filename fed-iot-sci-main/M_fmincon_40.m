function [x] = fmin(x0,A,B,C,lb,ub,R,Budget,alpha)
MyValue=10e6;
options = optimoptions('fmincon','Algorithm','sqp', 'MaxFunctionEvaluations',MyValue);
function [f] = fun(x, A, B,R,alpha)
f = alpha/R*(1-x(1))*A(1)/x(1) + alpha/R*(1-x(2))*A(2)/x(2) + alpha/R*(1-x(3))*A(3)/x(3) + alpha/R*(1-x(4))*A(4)/x(4) + alpha/R*(1-x(5))*A(5)/x(5) + alpha/R*(1-x(6))*A(6)/x(6) + alpha/R*(1-x(7))*A(7)/x(7) + alpha/R*(1-x(8))*A(8)/x(8) + alpha/R*(1-x(9))*A(9)/x(9) + alpha/R*(1-x(10))*A(10)/x(10) + alpha/R*(1-x(11))*A(11)/x(11) + alpha/R*(1-x(12))*A(12)/x(12) + alpha/R*(1-x(13))*A(13)/x(13) + alpha/R*(1-x(14))*A(14)/x(14) + alpha/R*(1-x(15))*A(15)/x(15) + alpha/R*(1-x(16))*A(16)/x(16) + alpha/R*(1-x(17))*A(17)/x(17) + alpha/R*(1-x(18))*A(18)/x(18) + alpha/R*(1-x(19))*A(19)/x(19) + alpha/R*(1-x(20))*A(20)/x(20) + alpha/R*(1-x(21))*A(21)/x(21) + alpha/R*(1-x(22))*A(22)/x(22) + alpha/R*(1-x(23))*A(23)/x(23) + alpha/R*(1-x(24))*A(24)/x(24) + alpha/R*(1-x(25))*A(25)/x(25) + alpha/R*(1-x(26))*A(26)/x(26) + alpha/R*(1-x(27))*A(27)/x(27) + alpha/R*(1-x(28))*A(28)/x(28) + alpha/R*(1-x(29))*A(29)/x(29) + alpha/R*(1-x(30))*A(30)/x(30) + alpha/R*(1-x(31))*A(31)/x(31) + alpha/R*(1-x(32))*A(32)/x(32) + alpha/R*(1-x(33))*A(33)/x(33) + alpha/R*(1-x(34))*A(34)/x(34) + alpha/R*(1-x(35))*A(35)/x(35) + alpha/R*(1-x(36))*A(36)/x(36) + alpha/R*(1-x(37))*A(37)/x(37) + alpha/R*(1-x(38))*A(38)/x(38) + alpha/R*(1-x(39))*A(39)/x(39) + alpha/R*(1-x(40))*A(40)/x(40);
end
function [c, ceq] = nonlcon(x, B, C, R, Budget,alpha)
c = 2*C(1)*x(1)*x(1)-alpha/R*B(1)/x(1) + 2*C(2)*x(2)*x(2)-alpha/R*B(2)/x(2) + 2*C(3)*x(3)*x(3)-alpha/R*B(3)/x(3) + 2*C(4)*x(4)*x(4)-alpha/R*B(4)/x(4) + 2*C(5)*x(5)*x(5)-alpha/R*B(5)/x(5) + 2*C(6)*x(6)*x(6)-alpha/R*B(6)/x(6) + 2*C(7)*x(7)*x(7)-alpha/R*B(7)/x(7) + 2*C(8)*x(8)*x(8)-alpha/R*B(8)/x(8) + 2*C(9)*x(9)*x(9)-alpha/R*B(9)/x(9) + 2*C(10)*x(10)*x(10)-alpha/R*B(10)/x(10) + 2*C(11)*x(11)*x(11)-alpha/R*B(11)/x(11) + 2*C(12)*x(12)*x(12)-alpha/R*B(12)/x(12) + 2*C(13)*x(13)*x(13)-alpha/R*B(13)/x(13) + 2*C(14)*x(14)*x(14)-alpha/R*B(14)/x(14) + 2*C(15)*x(15)*x(15)-alpha/R*B(15)/x(15) + 2*C(16)*x(16)*x(16)-alpha/R*B(16)/x(16) + 2*C(17)*x(17)*x(17)-alpha/R*B(17)/x(17) + 2*C(18)*x(18)*x(18)-alpha/R*B(18)/x(18) + 2*C(19)*x(19)*x(19)-alpha/R*B(19)/x(19) + 2*C(20)*x(20)*x(20)-alpha/R*B(20)/x(20) + 2*C(21)*x(21)*x(21)-alpha/R*B(21)/x(21) + 2*C(22)*x(22)*x(22)-alpha/R*B(22)/x(22) + 2*C(23)*x(23)*x(23)-alpha/R*B(23)/x(23) + 2*C(24)*x(24)*x(24)-alpha/R*B(24)/x(24) + 2*C(25)*x(25)*x(25)-alpha/R*B(25)/x(25) + 2*C(26)*x(26)*x(26)-alpha/R*B(26)/x(26) + 2*C(27)*x(27)*x(27)-alpha/R*B(27)/x(27) + 2*C(28)*x(28)*x(28)-alpha/R*B(28)/x(28) + 2*C(29)*x(29)*x(29)-alpha/R*B(29)/x(29) + 2*C(30)*x(30)*x(30)-alpha/R*B(30)/x(30) + 2*C(31)*x(31)*x(31)-alpha/R*B(31)/x(31) + 2*C(32)*x(32)*x(32)-alpha/R*B(32)/x(32) + 2*C(33)*x(33)*x(33)-alpha/R*B(33)/x(33) + 2*C(34)*x(34)*x(34)-alpha/R*B(34)/x(34) + 2*C(35)*x(35)*x(35)-alpha/R*B(35)/x(35) + 2*C(36)*x(36)*x(36)-alpha/R*B(36)/x(36) + 2*C(37)*x(37)*x(37)-alpha/R*B(37)/x(37) + 2*C(38)*x(38)*x(38)-alpha/R*B(38)/x(38) + 2*C(39)*x(39)*x(39)-alpha/R*B(39)/x(39) + 2*C(40)*x(40)*x(40)-alpha/R*B(40)/x(40) - Budget;
ceq=[];
end
[x,fmin,exitflag,output] = fmincon(@(x)fun(x,A,B,R,alpha), x0, [], [], [], [], lb, ub, @(x)nonlcon(x, B, C, R, Budget,alpha), options)
end
