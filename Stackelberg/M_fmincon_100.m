function [x] = fmin(x0,A,B,C,lb,ub,R,Budget,alpha)
MyValue=10e6;
options = optimoptions('fmincon','Algorithm','sqp', 'MaxFunctionEvaluations',MyValue);
function [f] = fun(x, A, B,R,alpha)
f = alpha/R*(1-x(1))*A(1)/x(1) + alpha/R*(1-x(2))*A(2)/x(2) + alpha/R*(1-x(3))*A(3)/x(3) + alpha/R*(1-x(4))*A(4)/x(4) + alpha/R*(1-x(5))*A(5)/x(5) + alpha/R*(1-x(6))*A(6)/x(6) + alpha/R*(1-x(7))*A(7)/x(7) + alpha/R*(1-x(8))*A(8)/x(8) + alpha/R*(1-x(9))*A(9)/x(9) + alpha/R*(1-x(10))*A(10)/x(10) + alpha/R*(1-x(11))*A(11)/x(11) + alpha/R*(1-x(12))*A(12)/x(12) + alpha/R*(1-x(13))*A(13)/x(13) + alpha/R*(1-x(14))*A(14)/x(14) + alpha/R*(1-x(15))*A(15)/x(15) + alpha/R*(1-x(16))*A(16)/x(16) + alpha/R*(1-x(17))*A(17)/x(17) + alpha/R*(1-x(18))*A(18)/x(18) + alpha/R*(1-x(19))*A(19)/x(19) + alpha/R*(1-x(20))*A(20)/x(20) + alpha/R*(1-x(21))*A(21)/x(21) + alpha/R*(1-x(22))*A(22)/x(22) + alpha/R*(1-x(23))*A(23)/x(23) + alpha/R*(1-x(24))*A(24)/x(24) + alpha/R*(1-x(25))*A(25)/x(25) + alpha/R*(1-x(26))*A(26)/x(26) + alpha/R*(1-x(27))*A(27)/x(27) + alpha/R*(1-x(28))*A(28)/x(28) + alpha/R*(1-x(29))*A(29)/x(29) + alpha/R*(1-x(30))*A(30)/x(30) + alpha/R*(1-x(31))*A(31)/x(31) + alpha/R*(1-x(32))*A(32)/x(32) + alpha/R*(1-x(33))*A(33)/x(33) + alpha/R*(1-x(34))*A(34)/x(34) + alpha/R*(1-x(35))*A(35)/x(35) + alpha/R*(1-x(36))*A(36)/x(36) + alpha/R*(1-x(37))*A(37)/x(37) + alpha/R*(1-x(38))*A(38)/x(38) + alpha/R*(1-x(39))*A(39)/x(39) + alpha/R*(1-x(40))*A(40)/x(40) + alpha/R*(1-x(41))*A(41)/x(41) + alpha/R*(1-x(42))*A(42)/x(42) + alpha/R*(1-x(43))*A(43)/x(43) + alpha/R*(1-x(44))*A(44)/x(44) + alpha/R*(1-x(45))*A(45)/x(45) + alpha/R*(1-x(46))*A(46)/x(46) + alpha/R*(1-x(47))*A(47)/x(47) + alpha/R*(1-x(48))*A(48)/x(48) + alpha/R*(1-x(49))*A(49)/x(49) + alpha/R*(1-x(50))*A(50)/x(50) + alpha/R*(1-x(51))*A(51)/x(51) + alpha/R*(1-x(52))*A(52)/x(52) + alpha/R*(1-x(53))*A(53)/x(53) + alpha/R*(1-x(54))*A(54)/x(54) + alpha/R*(1-x(55))*A(55)/x(55) + alpha/R*(1-x(56))*A(56)/x(56) + alpha/R*(1-x(57))*A(57)/x(57) + alpha/R*(1-x(58))*A(58)/x(58) + alpha/R*(1-x(59))*A(59)/x(59) + alpha/R*(1-x(60))*A(60)/x(60) + alpha/R*(1-x(61))*A(61)/x(61) + alpha/R*(1-x(62))*A(62)/x(62) + alpha/R*(1-x(63))*A(63)/x(63) + alpha/R*(1-x(64))*A(64)/x(64) + alpha/R*(1-x(65))*A(65)/x(65) + alpha/R*(1-x(66))*A(66)/x(66) + alpha/R*(1-x(67))*A(67)/x(67) + alpha/R*(1-x(68))*A(68)/x(68) + alpha/R*(1-x(69))*A(69)/x(69) + alpha/R*(1-x(70))*A(70)/x(70) + alpha/R*(1-x(71))*A(71)/x(71) + alpha/R*(1-x(72))*A(72)/x(72) + alpha/R*(1-x(73))*A(73)/x(73) + alpha/R*(1-x(74))*A(74)/x(74) + alpha/R*(1-x(75))*A(75)/x(75) + alpha/R*(1-x(76))*A(76)/x(76) + alpha/R*(1-x(77))*A(77)/x(77) + alpha/R*(1-x(78))*A(78)/x(78) + alpha/R*(1-x(79))*A(79)/x(79) + alpha/R*(1-x(80))*A(80)/x(80) + alpha/R*(1-x(81))*A(81)/x(81) + alpha/R*(1-x(82))*A(82)/x(82) + alpha/R*(1-x(83))*A(83)/x(83) + alpha/R*(1-x(84))*A(84)/x(84) + alpha/R*(1-x(85))*A(85)/x(85) + alpha/R*(1-x(86))*A(86)/x(86) + alpha/R*(1-x(87))*A(87)/x(87) + alpha/R*(1-x(88))*A(88)/x(88) + alpha/R*(1-x(89))*A(89)/x(89) + alpha/R*(1-x(90))*A(90)/x(90) + alpha/R*(1-x(91))*A(91)/x(91) + alpha/R*(1-x(92))*A(92)/x(92) + alpha/R*(1-x(93))*A(93)/x(93) + alpha/R*(1-x(94))*A(94)/x(94) + alpha/R*(1-x(95))*A(95)/x(95) + alpha/R*(1-x(96))*A(96)/x(96) + alpha/R*(1-x(97))*A(97)/x(97) + alpha/R*(1-x(98))*A(98)/x(98) + alpha/R*(1-x(99))*A(99)/x(99) + alpha/R*(1-x(100))*A(100)/x(100);
end
function [c, ceq] = nonlcon(x, B, C, R, Budget,alpha)
c = 2*C(1)*x(1)*x(1)-alpha/R*B(1)/x(1) + 2*C(2)*x(2)*x(2)-alpha/R*B(2)/x(2) + 2*C(3)*x(3)*x(3)-alpha/R*B(3)/x(3) + 2*C(4)*x(4)*x(4)-alpha/R*B(4)/x(4) + 2*C(5)*x(5)*x(5)-alpha/R*B(5)/x(5) + 2*C(6)*x(6)*x(6)-alpha/R*B(6)/x(6) + 2*C(7)*x(7)*x(7)-alpha/R*B(7)/x(7) + 2*C(8)*x(8)*x(8)-alpha/R*B(8)/x(8) + 2*C(9)*x(9)*x(9)-alpha/R*B(9)/x(9) + 2*C(10)*x(10)*x(10)-alpha/R*B(10)/x(10) + 2*C(11)*x(11)*x(11)-alpha/R*B(11)/x(11) + 2*C(12)*x(12)*x(12)-alpha/R*B(12)/x(12) + 2*C(13)*x(13)*x(13)-alpha/R*B(13)/x(13) + 2*C(14)*x(14)*x(14)-alpha/R*B(14)/x(14) + 2*C(15)*x(15)*x(15)-alpha/R*B(15)/x(15) + 2*C(16)*x(16)*x(16)-alpha/R*B(16)/x(16) + 2*C(17)*x(17)*x(17)-alpha/R*B(17)/x(17) + 2*C(18)*x(18)*x(18)-alpha/R*B(18)/x(18) + 2*C(19)*x(19)*x(19)-alpha/R*B(19)/x(19) + 2*C(20)*x(20)*x(20)-alpha/R*B(20)/x(20) + 2*C(21)*x(21)*x(21)-alpha/R*B(21)/x(21) + 2*C(22)*x(22)*x(22)-alpha/R*B(22)/x(22) + 2*C(23)*x(23)*x(23)-alpha/R*B(23)/x(23) + 2*C(24)*x(24)*x(24)-alpha/R*B(24)/x(24) + 2*C(25)*x(25)*x(25)-alpha/R*B(25)/x(25) + 2*C(26)*x(26)*x(26)-alpha/R*B(26)/x(26) + 2*C(27)*x(27)*x(27)-alpha/R*B(27)/x(27) + 2*C(28)*x(28)*x(28)-alpha/R*B(28)/x(28) + 2*C(29)*x(29)*x(29)-alpha/R*B(29)/x(29) + 2*C(30)*x(30)*x(30)-alpha/R*B(30)/x(30) + 2*C(31)*x(31)*x(31)-alpha/R*B(31)/x(31) + 2*C(32)*x(32)*x(32)-alpha/R*B(32)/x(32) + 2*C(33)*x(33)*x(33)-alpha/R*B(33)/x(33) + 2*C(34)*x(34)*x(34)-alpha/R*B(34)/x(34) + 2*C(35)*x(35)*x(35)-alpha/R*B(35)/x(35) + 2*C(36)*x(36)*x(36)-alpha/R*B(36)/x(36) + 2*C(37)*x(37)*x(37)-alpha/R*B(37)/x(37) + 2*C(38)*x(38)*x(38)-alpha/R*B(38)/x(38) + 2*C(39)*x(39)*x(39)-alpha/R*B(39)/x(39) + 2*C(40)*x(40)*x(40)-alpha/R*B(40)/x(40) + 2*C(41)*x(41)*x(41)-alpha/R*B(41)/x(41) + 2*C(42)*x(42)*x(42)-alpha/R*B(42)/x(42) + 2*C(43)*x(43)*x(43)-alpha/R*B(43)/x(43) + 2*C(44)*x(44)*x(44)-alpha/R*B(44)/x(44) + 2*C(45)*x(45)*x(45)-alpha/R*B(45)/x(45) + 2*C(46)*x(46)*x(46)-alpha/R*B(46)/x(46) + 2*C(47)*x(47)*x(47)-alpha/R*B(47)/x(47) + 2*C(48)*x(48)*x(48)-alpha/R*B(48)/x(48) + 2*C(49)*x(49)*x(49)-alpha/R*B(49)/x(49) + 2*C(50)*x(50)*x(50)-alpha/R*B(50)/x(50) + 2*C(51)*x(51)*x(51)-alpha/R*B(51)/x(51) + 2*C(52)*x(52)*x(52)-alpha/R*B(52)/x(52) + 2*C(53)*x(53)*x(53)-alpha/R*B(53)/x(53) + 2*C(54)*x(54)*x(54)-alpha/R*B(54)/x(54) + 2*C(55)*x(55)*x(55)-alpha/R*B(55)/x(55) + 2*C(56)*x(56)*x(56)-alpha/R*B(56)/x(56) + 2*C(57)*x(57)*x(57)-alpha/R*B(57)/x(57) + 2*C(58)*x(58)*x(58)-alpha/R*B(58)/x(58) + 2*C(59)*x(59)*x(59)-alpha/R*B(59)/x(59) + 2*C(60)*x(60)*x(60)-alpha/R*B(60)/x(60) + 2*C(61)*x(61)*x(61)-alpha/R*B(61)/x(61) + 2*C(62)*x(62)*x(62)-alpha/R*B(62)/x(62) + 2*C(63)*x(63)*x(63)-alpha/R*B(63)/x(63) + 2*C(64)*x(64)*x(64)-alpha/R*B(64)/x(64) + 2*C(65)*x(65)*x(65)-alpha/R*B(65)/x(65) + 2*C(66)*x(66)*x(66)-alpha/R*B(66)/x(66) + 2*C(67)*x(67)*x(67)-alpha/R*B(67)/x(67) + 2*C(68)*x(68)*x(68)-alpha/R*B(68)/x(68) + 2*C(69)*x(69)*x(69)-alpha/R*B(69)/x(69) + 2*C(70)*x(70)*x(70)-alpha/R*B(70)/x(70) + 2*C(71)*x(71)*x(71)-alpha/R*B(71)/x(71) + 2*C(72)*x(72)*x(72)-alpha/R*B(72)/x(72) + 2*C(73)*x(73)*x(73)-alpha/R*B(73)/x(73) + 2*C(74)*x(74)*x(74)-alpha/R*B(74)/x(74) + 2*C(75)*x(75)*x(75)-alpha/R*B(75)/x(75) + 2*C(76)*x(76)*x(76)-alpha/R*B(76)/x(76) + 2*C(77)*x(77)*x(77)-alpha/R*B(77)/x(77) + 2*C(78)*x(78)*x(78)-alpha/R*B(78)/x(78) + 2*C(79)*x(79)*x(79)-alpha/R*B(79)/x(79) + 2*C(80)*x(80)*x(80)-alpha/R*B(80)/x(80) + 2*C(81)*x(81)*x(81)-alpha/R*B(81)/x(81) + 2*C(82)*x(82)*x(82)-alpha/R*B(82)/x(82) + 2*C(83)*x(83)*x(83)-alpha/R*B(83)/x(83) + 2*C(84)*x(84)*x(84)-alpha/R*B(84)/x(84) + 2*C(85)*x(85)*x(85)-alpha/R*B(85)/x(85) + 2*C(86)*x(86)*x(86)-alpha/R*B(86)/x(86) + 2*C(87)*x(87)*x(87)-alpha/R*B(87)/x(87) + 2*C(88)*x(88)*x(88)-alpha/R*B(88)/x(88) + 2*C(89)*x(89)*x(89)-alpha/R*B(89)/x(89) + 2*C(90)*x(90)*x(90)-alpha/R*B(90)/x(90) + 2*C(91)*x(91)*x(91)-alpha/R*B(91)/x(91) + 2*C(92)*x(92)*x(92)-alpha/R*B(92)/x(92) + 2*C(93)*x(93)*x(93)-alpha/R*B(93)/x(93) + 2*C(94)*x(94)*x(94)-alpha/R*B(94)/x(94) + 2*C(95)*x(95)*x(95)-alpha/R*B(95)/x(95) + 2*C(96)*x(96)*x(96)-alpha/R*B(96)/x(96) + 2*C(97)*x(97)*x(97)-alpha/R*B(97)/x(97) + 2*C(98)*x(98)*x(98)-alpha/R*B(98)/x(98) + 2*C(99)*x(99)*x(99)-alpha/R*B(99)/x(99) + 2*C(100)*x(100)*x(100)-alpha/R*B(100)/x(100) - Budget;
ceq=[];
end
[x,fmin,exitflag,output] = fmincon(@(x)fun(x,A,B,R,alpha), x0, [], [], [], [], lb, ub, @(x)nonlcon(x, B, C, R, Budget,alpha), options)
end
